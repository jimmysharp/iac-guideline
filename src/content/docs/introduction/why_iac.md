---
title: Why IaC?
description: なぜIaCを使うのか
---

そもそもなぜIaCを利用するのでしょうか。

モチベーションは組織やチームにより様々ですが、本ガイドラインでは以下を主目的とします。

## 可視化

第1に、インフラリソースをコードの形で**すべて可視化し、把握可能とする**ことです。

手作業による運用では、インフラ構築・変更の知識は作業者と、当時レビューなどを行った一部の人の記憶にしか残りません。異動・退職を重ねるごとに知識は失われ、やがて何が、何のために動いているのかを誰も理解できない状態になります。

IaCとして適切にコード化することによって

- 何が(What)
- いつ(When)
- 誰によって(Who)
- 何のために作られ(Why)
- どうやって動いているのか(How)

といったインフラの5W1Hを管理し、誰でも容易に参照、理解できるようにします。WhenやWhyを残していくためにも、**バージョン管理システムの併用は必須**です。

またコード化することによって、自然とリソース間の**依存関係**も明らかになります。これは変更や削除時の影響範囲を知る上で重要な情報となります。

## 再現性の担保

第2に、インフラを**いつでも、誰でも再現可能**とすることです。

手動作業による変更では作業者による差分が出やすく、また切り戻し手順の考慮なども容易ではありません。

IaCを利用することにより、変更したコードを適用するだけで作業が完結し、作業者による差異が発生しません。CI/CDに組み込むことにより、作業自体を自動化することもできます。切り戻しも前バージョンのコードを再適用するだけです。

:::note[注意]
IaCコードで再現できるのはあくまでインフラだけであり、アプリケーションデータなどのバックアップは別途考える必要があります
:::

またコード化することにより、その環境を0から作り直すことも容易に行えるようになります。これにより

- 本番環境と同等の環境をもう1つ作成して検証し、終わったら消す
- 別リージョンに同等の環境を構築し、バックアップ環境として使う
- 致命的に壊れてしまった環境を復元する

といったことも容易になります。

## 効率化

最後に効率化です。IaCツールは大抵1~数コマンドで実行でき、作業手順書の作成も不要か、大きく削減することができます。

ただしこれはあくまでも可視化・再現性の担保を満たした上でのものであることに注意してください。
**理解できない・再現できない効率化は、単に負債の山を増やしただけ**にすぎません。

- 実行できるが、読めないコード
- 暗黙の条件が必要で、再現の難しいコード

などを作らないようにしましょう。
